import { TutorErrorBoundary } from "../components/ErrorBoundary";
import { NetworkAwareWrapper } from "../components/NetworkAwareWrapper";
// ... your existing imports

// inside your component's return:
return (
  <NetworkAwareWrapper>
    <TutorErrorBoundary>
      <div className="tutor-page max-w-3xl mx-auto p-4 space-y-3">
        <h1 id="page-title">JIE Tutor — Multi-Agent</h1>

        <div className="flex flex-wrap gap-2 items-center">
          <select id="age-range" value={level} onChange={e => setLevel(e.target.value as any)}>
            <option value="k2">Kindergarten–2</option>
            <option value="g3_5">Grades 3–5</option>
            <option value="g6_8">Grades 6–8</option>
            <option value="g9_12">Grades 9–12</option>
            <option value="college">College/Adult</option>
          </select>

          <select id="subject" value={subject} onChange={e => setSubject(e.target.value as any)}>
            <option value="general">General</option>
            <option value="math">Math</option>
            <option value="english">English</option>
            <option value="spanish">Spanish</option>
          </select>

          <input id="student-name" placeholder="Student name (optional)" value={studentName} onChange={e=>setStudentName(e.target.value)} />
          <input id="grade-text" placeholder="Grade text (optional)" value={gradeText} onChange={e=>setGradeText(e.target.value)} />

          <button id="start-btn" onClick={startTutor} disabled={!scriptReady}>Start Tutor</button>
          <button id="switch-btn" onClick={switchAgent} disabled={!mounted}>Switch Tutor</button>
          <button id="end-btn" onClick={stop} disabled={!mounted}>Stop</button>
        </div>

        <div className="bg-gray-50 p-2 rounded">
          <div className="text-sm text-gray-600">Your Tutor Will Say:</div>
          <div className="text-base">{greetingPreview}</div>
        </div>

        {mounted && (
          <ConvaiHost
            agentId={agentId}
            firstUserMessage={firstUserMessage}
            metadata={metadata}
          />
        )}
      </div>
    </TutorErrorBoundary>
  </NetworkAwareWrapper>
);
